<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>مدرسة الحصايا - Rania Abdelhamid</title>
    <link href="https://fonts.googleapis.com/css2?family=Cairo:wght@400;700;900&display=swap" rel="stylesheet">
    <style>
        :root {
            --primary: #d37d3d;
            --beige: #f4eee1;
            --dark: #5d4037;
        }

        body {
            margin: 0;
            font-family: 'Cairo', sans-serif;
            background-color: var(--beige);
            min-height: 100vh;
            display: flex; justify-content: center; align-items: center;
            overflow: hidden;
            position: relative;
        }

        /* رسومات تعليمية متحركة في الخلفية */
        .bg-elements {
            position: fixed; top: 0; left: 0; width: 100%; height: 100%;
            z-index: 1; pointer-events: none;
        }
        .edu-icon {
            position: absolute; opacity: 0.15; fill: var(--primary);
            animation: float 15s infinite linear;
        }
        @keyframes float {
            0% { transform: translateY(110vh) rotate(0deg); }
            100% { transform: translateY(-10vh) rotate(360deg); }
        }

        /* العلامة المائية بالإنجليزية */
        .watermark {
            position: fixed; bottom: 20px; left: 20px;
            font-family: 'Arial', sans-serif; font-weight: bold;
            font-size: 1.2rem; color: rgba(93, 64, 55, 0.3);
            z-index: 1000; pointer-events: none;
            letter-spacing: 1px;
        }

        .main-card {
            background: rgba(255, 255, 255, 0.98);
            padding: 30px; border-radius: 40px;
            box-shadow: 0 25px 60px rgba(0,0,0,0.1);
            width: 90%; max-width: 500px;
            border: 8px solid #fff;
            position: relative; z-index: 10;
            animation: slideUp 0.8s ease-out;
        }

        .admin-header {
            display: flex; justify-content: space-around;
            font-size: 0.75rem; color: var(--dark);
            border-bottom: 2px solid var(--beige);
            padding-bottom: 15px; margin-bottom: 20px; text-align: center;
        }
        .admin-header div b { color: var(--primary); display: block; font-size: 0.85rem; }

        .header h1 { font-size: 1.6rem; color: var(--dark); margin: 0; text-align: center; }
        .year-badge { 
            background: var(--primary); color: white; padding: 3px 15px; 
            border-radius: 50px; font-size: 0.8rem; display: block; 
            width: fit-content; margin: 10px auto 20px;
        }

        .search-box { background: #fffcf7; padding: 25px; border-radius: 25px; border: 1.5px solid #e2d9c5; }
        label { display: block; text-align: right; margin-bottom: 5px; font-weight: bold; color: #8d6e63; }
        select, input {
            width: 100%; padding: 14px; margin-bottom: 15px; border: 2px solid #d1c4b2;
            border-radius: 12px; font-size: 16px; outline: none; box-sizing: border-box;
        }

        .btn-search {
            width: 100%; padding: 16px; background: var(--primary); color: white; border: none;
            border-radius: 12px; font-size: 1.2rem; font-weight: bold; cursor: pointer;
            transition: 0.4s; box-shadow: 0 10px 20px rgba(211, 125, 61, 0.2);
        }
        .btn-search:hover { transform: scale(1.02); background: #b96a32; }

        #resultArea { display: none; margin-top: 25px; animation: fadeIn 0.5s ease; }
        .st-name-card { background: var(--beige); padding: 12px; border-radius: 12px; border-right: 6px solid var(--primary); text-align: right; margin-bottom: 15px; font-weight: 900; }
        table { width: 100%; border-collapse: collapse; }
        td { background: white; padding: 12px; border-bottom: 1px solid #eee; text-align: right; }
        .subject { font-weight: bold; color: var(--dark); }
        .score { color: var(--primary); font-weight: 900; text-align: left; }

        .credit { margin-top: 25px; text-align: center; font-size: 0.85rem; color: #8d6e63; border-top: 1px dashed #d1c4b2; padding-top: 15px; }

        @keyframes slideUp { from { opacity: 0; transform: translateY(40px); } to { opacity: 1; transform: translateY(0); } }
        @keyframes fadeIn { from { opacity: 0; } to { opacity: 1; } }
    </style>
</head>
<body>

<div class="bg-elements">
    <svg class="edu-icon" style="left:10%; animation-delay:0s;" width="50" height="50" viewBox="0 0 24 24"><path d="M12 3L1 9L12 15L21 10.09V17H23V9M5 13.18V17.18L12 21L19 17.18V13.18L12 17L5 13.18Z"/></svg>
    <svg class="edu-icon" style="left:30%; animation-delay:5s;" width="40" height="40" viewBox="0 0 24 24"><path d="M18,3H6V5H18V3M18,19H6V21H18V19M12,7A5,5 0 0,0 7,12A5,5 0 0,0 12,17A5,5 0 0,0 17,12A5,5 0 0,0 12,7M12,15A3,3 0 0,1 9,12A3,3 0 0,1 12,9A3,3 0 0,1 15,12A3,3 0 0,1 12,15Z"/></svg>
    <svg class="edu-icon" style="left:60%; animation-delay:2s;" width="45" height="45" viewBox="0 0 24 24"><path d="M20.71,7.04C21.1,6.65 21.1,6 20.71,5.63L18.37,3.29C18,2.9 17.35,2.9 16.96,3.29L15.12,5.12L18.87,8.87M3,17.25V21H6.75L17.81,9.93L14.06,6.18L3,17.25Z"/></svg>
    <svg class="edu-icon" style="left:85%; animation-delay:8s;" width="55" height="55" viewBox="0 0 24 24"><path d="M12,2D11,2 9.03,3.57 7.03,6.23L6.11,7.46C4.19,10.03 3,12.85 3,16C3,19.31 5.69,22 9,22C12.31,22 15,19.31 15,16C15,12.85 13.81,10.03 11.89,7.46L10.97,6.23C8.97,3.57 7,2 6,2M6,4C6.5,4 7.5,5 9,7C10.5,9 12,12 12,15C12,17.21 10.21,19 8,19C5.79,19 4,17.21 4,15C4,12 5.5,9 7,7C8.5,5 9.5,4 10,4Z"/></svg>
</div>

<div class="watermark">Rania Abdelhamid Badry</div>

<div class="main-card">
    <div class="admin-header">
        <div>مدير المدرسة<b>أ/ عبد الحميد بدري قاسم</b></div>
        <div>وكيل المدرسة<b>أ/ ياسر محمد المهدي</b></div>
        <div>رئيس الكنترول<b>أ/ هيام عبد الرحيم</b></div>
    </div>

    <div class="header">
        <h1>مدرسة الحصايا الثانوية المشتركة</h1>
        <span class="year-badge">نتائج الطلاب 2026</span>
    </div>

    <div class="search-box">
        <label>الصف الدراسي:</label>
        <select id="grade">
            <option value="1">الصف الأول الثانوي</option>
            <option value="2">الصف الثاني الثانوي</option>
        </select>
        <label>رقم الجلوس:</label>
        <input type="number" id="seatNo" placeholder="أدخل رقم الجلوس">
        <button class="btn-search" onclick="showResult()">كشف النتيجة ✨</button>
    </div>

    <div id="resultArea">
        <div class="st-name-card" id="stName"></div>
        <table><tbody id="resTable"></tbody></table>
    </div>

    <div class="credit">
        تم التصميم بواسطة: <b>Rania Abdelhamid Badry</b>
    </div>
</div>

<script>
    const links = {
        "1": "https://docs.google.com/spreadsheets/d/e/2PACX-1vRJPLHZ-MIktvCWtTnuLxdH7DRCLrDsMfQtgoB-X-tdWYLetDPRw-Y4AhrqTIJViA/pub?output=csv",
        "2": "https://docs.google.com/spreadsheets/d/e/2PACX-1vT4Ngahq-48563jJP3X7ZW76339e1KuIh8s2TJz6-P11CNKb720IY242DLNbEbQ2g/pub?output=csv"
    };

    async function showResult() {
        const grade = document.getElementById('grade').value;
        const seat = document.getElementById('seatNo').value.trim();
        if(!seat) { alert("من فضلك ادخل رقم الجلوس"); return; }
        try {
            const response = await fetch(links[grade]);
            const text = await response.text();
            const rows = text.split('\n').map(r => r.split(','));
            const headers = rows[0];
            const student = rows.find(r => r[0].trim() === seat);
            if(student) {
                document.getElementById('stName').innerText = "الاسم: " + student[1];
                const table = document.getElementById('resTable');
                table.innerHTML = "";
                for(let i=2; i < headers.length; i++) {
                    if(!headers[i] || headers[i].trim() === "") continue;
                    table.innerHTML += `<tr><td class="subject">${headers[i]}</td><td class="score">${student[i]}</td></tr>`;
                }
                document.getElementById('resultArea').style.display = 'block';
            } else { alert("رقم الجلوس غير موجود!"); }
        } catch(e) { alert("خطأ في الاتصال بالبيانات"); }
    }
</script>

</body>
    </html>
