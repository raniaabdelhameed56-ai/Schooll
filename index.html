<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Ø¨ÙˆØ§Ø¨Ø© Ù†ØªØ§Ø¦Ø¬ Ù…Ø¯Ø±Ø³Ø© Ø§Ù„Ø­ØµØ§ÙŠØ§ - Rania Abdelhamid</title>
    <link href="https://fonts.googleapis.com/css2?family=Cairo:wght@400;700;900&display=swap" rel="stylesheet">
    <style>
        :root { --primary: #d37d3d; --beige: #f4eee1; --dark: #5d4037; }
        
        body {
            margin: 0; font-family: 'Cairo', sans-serif; background-color: var(--beige);
            min-height: 100vh; display: flex; justify-content: center; align-items: center;
            overflow: hidden; position: relative;
        }

        /* Ø­Ø±ÙƒØ§Øª Ø®Ù„ÙÙŠØ© ØªØ¹Ù„ÙŠÙ…ÙŠØ© Ù…ÙƒØ«ÙØ© */
        .bg-elements { position: fixed; top: 0; left: 0; width: 100%; height: 100%; z-index: 1; pointer-events: none; }
        .edu-icon { position: absolute; opacity: 0.2; fill: var(--primary); animation: float 12s infinite linear; }
        @keyframes float {
            0% { transform: translateY(110vh) rotate(0deg) translateX(0); }
            50% { transform: translateY(50vh) rotate(180deg) translateX(25px); }
            100% { transform: translateY(-20vh) rotate(360deg) translateX(-25px); }
        }

        /* ÙƒØ§Ø±Øª Ø§Ù„ÙˆØ§Ø¬Ù‡Ø© Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠØ© */
        .main-card {
            background: rgba(255, 255, 255, 0.98); padding: 30px; border-radius: 40px;
            box-shadow: 0 25px 60px rgba(0,0,0,0.1); width: 90%; max-width: 480px;
            border: 8px solid #fff; position: relative; z-index: 10; text-align: center;
            transition: transform 0.4s ease;
        }

        .admin-header {
            display: flex; justify-content: space-around; font-size: 0.75rem;
            color: var(--dark); border-bottom: 2px solid var(--beige);
            padding-bottom: 15px; margin-bottom: 20px;
        }
        .admin-header div b { color: var(--primary); display: block; font-size: 0.85rem; }

        .header h1 { font-size: 1.6rem; color: var(--dark); margin: 0; font-weight: 900; }
        .year-badge { 
            background: var(--primary); color: white; padding: 4px 18px; 
            border-radius: 50px; font-size: 0.85rem; display: inline-block; margin: 12px 0;
        }

        .search-box { background: #fffcf7; padding: 25px; border-radius: 25px; border: 1.5px solid #e2d9c5; }
        label { display: block; text-align: right; margin-bottom: 8px; font-weight: bold; color: #8d6e63; }
        select, input {
            width: 100%; padding: 14px; margin-bottom: 15px; border: 2px solid #d1c4b2;
            border-radius: 12px; font-size: 16px; outline: none; box-sizing: border-box; font-family: 'Cairo';
        }

        .btn-search {
            width: 100%; padding: 16px; background: var(--primary); color: white; border: none;
            border-radius: 12px; font-size: 1.2rem; font-weight: bold; cursor: pointer;
            box-shadow: 0 10px 20px rgba(211, 125, 61, 0.2);
        }

        /* ØµÙØ­Ø© Ø§Ù„Ù†ØªÙŠØ¬Ø© Ø§Ù„Ù…Ø³ØªÙ‚Ù„Ø© (Full Screen Overlay) */
        #resultPage {
            position: fixed; top: 0; left: 0; width: 100%; height: 100%;
            background: var(--beige); z-index: 1000; display: none;
            flex-direction: column; align-items: center; justify-content: center;
            animation: fadeIn 0.5s ease;
        }
        .result-container {
            background: white; width: 92%; max-width: 450px; padding: 30px;
            border-radius: 35px; box-shadow: 0 20px 50px rgba(0,0,0,0.1);
            text-align: center; border: 6px solid #fff;
        }
        .st-name-card { background: var(--primary); color: white; padding: 18px; border-radius: 15px; font-weight: 900; font-size: 1.2rem; margin-bottom: 20px; }
        
        .table-wrapper { max-height: 350px; overflow-y: auto; width: 100%; border-radius: 12px; }
        table { width: 100%; border-collapse: collapse; background: #fff; }
        td { padding: 14px; border-bottom: 1px solid #eee; text-align: right; }
        .subject { font-weight: bold; color: var(--dark); }
        .score { color: var(--primary); font-weight: 900; text-align: left; }

        .btn-back {
            margin-top: 25px; width: 100%; padding: 12px; background: var(--dark);
            color: white; border: none; border-radius: 12px; font-weight: bold; cursor: pointer;
        }

        .credit { margin-top: 25px; font-size: 0.85rem; color: #8d6e63; }

        @keyframes fadeIn { from { opacity: 0; transform: scale(0.9); } to { opacity: 1; transform: scale(1); } }
    </style>
</head>
<body>

<div class="bg-elements" id="iconsContainer"></div>

<div class="main-card" id="searchCard">
    <div class="admin-header">
        <div>Ù…Ø¯ÙŠØ± Ø§Ù„Ù…Ø¯Ø±Ø³Ø©<b>Ø£/ Ø¹Ø¨Ø¯ Ø§Ù„Ø­Ù…ÙŠØ¯ Ø¨Ø¯Ø±ÙŠ Ù‚Ø§Ø³Ù…</b></div>
        <div>ÙˆÙƒÙŠÙ„ Ø§Ù„Ù…Ø¯Ø±Ø³Ø©<b>Ø£/ ÙŠØ§Ø³Ø± Ù…Ø­Ù…Ø¯ Ø§Ù„Ù…Ù‡Ø¯ÙŠ</b></div>
        <div>Ø§Ù„ÙƒÙ†ØªØ±ÙˆÙ„<b>Ø£/ Ù‡ÙŠØ§Ù… Ø¹Ø¨Ø¯ Ø§Ù„Ø±Ø­ÙŠÙ…</b></div>
    </div>

    <div class="header">
        <h1>Ù…Ø¯Ø±Ø³Ø© Ø§Ù„Ø­ØµØ§ÙŠØ§ Ø§Ù„Ø«Ø§Ù†ÙˆÙŠØ© Ø§Ù„Ù…Ø´ØªØ±ÙƒØ©</h1>
        <span class="year-badge">Ù†ØªØ§Ø¦Ø¬ Ø§Ù…ØªØ­Ø§Ù†Ø§Øª 2026</span>
    </div>

    <div class="search-box">
        <label>Ø§Ù„ØµÙ Ø§Ù„Ø¯Ø±Ø§Ø³ÙŠ:</label>
        <select id="grade">
            <option value="1">Ø§Ù„ØµÙ Ø§Ù„Ø£ÙˆÙ„ Ø§Ù„Ø«Ø§Ù†ÙˆÙŠ</option>
            <option value="2">Ø§Ù„ØµÙ Ø§Ù„Ø«Ø§Ù†ÙŠ Ø§Ù„Ø«Ø§Ù†ÙˆÙŠ</option>
        </select>
        <label>Ø±Ù‚Ù… Ø§Ù„Ø¬Ù„ÙˆØ³:</label>
        <input type="number" id="seatNo" placeholder="Ø£Ø¯Ø®Ù„ Ø±Ù‚Ù… Ø§Ù„Ø¬Ù„ÙˆØ³">
        <button class="btn-search" onclick="showResult()">ÙƒØ´Ù Ø§Ù„Ù†ØªÙŠØ¬Ø© âœ¨</button>
    </div>

    <div class="credit">Designed by: <b>Rania Abdelhamid Badry</b></div>
</div>

<div id="resultPage">
    <div class="result-container">
        <div class="st-name-card" id="stName"></div>
        <div class="table-wrapper">
            <table><tbody id="resTable"></tbody></table>
        </div>
        <button class="btn-back" onclick="goBack()">Ø¨Ø­Ø« Ø¬Ø¯ÙŠØ¯ ğŸ”</button>
        <div class="credit">Rania Abdelhamid Badry</div>
    </div>
</div>

<script>
    // ØªÙˆÙ„ÙŠØ¯ Ø§Ù„Ø£ÙŠÙ‚ÙˆÙ†Ø§Øª ÙÙŠ Ø§Ù„Ø®Ù„ÙÙŠØ© Ø¨Ø±Ù…Ø¬ÙŠØ§Ù‹ Ù„Ø²ÙŠØ§Ø¯Ø© Ø§Ù„Ø­Ø±ÙƒØ§Øª
    const container = document.getElementById('iconsContainer');
    const icons = ['ğŸ“š', 'ğŸ§ª', 'ğŸ“', 'âœï¸', 'ğŸ“–', 'ğŸ“'];
    for(let i=0; i<20; i++) {
        let span = document.createElement('span');
        span.className = 'edu-icon';
        span.innerText = icons[Math.floor(Math.random()*icons.length)];
        span.style.left = Math.random() * 100 + '%';
        span.style.fontSize = (Math.random() * 20 + 20) + 'px';
        span.style.animationDelay = Math.random() * 10 + 's';
        container.appendChild(span);
    }

    const links = {
        "1": "https://docs.google.com/spreadsheets/d/e/2PACX-1vRJPLHZ-MIktvCWtTnuLxdH7DRCLrDsMfQtgoB-X-tdWYLetDPRw-Y4AhrqTIJViA/pub?output=csv",
        "2": "https://docs.google.com/spreadsheets/d/e/2PACX-1vT4Ngahq-48563jJP3X7ZW76339e1KuIh8s2TJz6-P11CNKb720IY242DLNbEbQ2g/pub?output=csv"
    };

    async function showResult() {
        const grade = document.getElementById('grade').value;
        const seat = document.getElementById('seatNo').value.trim();
        if(!seat) return alert("Ù…Ù† ÙØ¶Ù„Ùƒ Ø§Ø¯Ø®Ù„ Ø±Ù‚Ù… Ø§Ù„Ø¬Ù„ÙˆØ³");

        try {
            const response = await fetch(links[grade]);
            const text = await response.text();
            const rows = text.split('\n').map(r => r.split(','));
            const headers = rows[0];
            const student = rows.find(r => r[0].trim() === seat);

            if(student) {
                document.getElementById('stName').innerText = "Ø§Ù„Ø·Ø§Ù„Ø¨: " + student[1];
                const table = document.getElementById('resTable');
                table.innerHTML = "";
                for(let i=2; i < headers.length; i++) {
                    if(headers[i] && headers[i].trim() !== "") {
                        table.innerHTML += `<tr><td class="subject">${headers[i]}</td><td class="score">${student[i]}</td></tr>`;
                    }
                }
                // Ø¥Ø®ÙØ§Ø¡ Ø§Ù„Ø¨Ø­Ø« ÙˆØ¥Ø¸Ù‡Ø§Ø± ØµÙØ­Ø© Ø§Ù„Ù†ØªÙŠØ¬Ø©
                document.getElementById('searchCard').style.display = 'none';
                document.getElementById('resultPage').style.display = 'flex';
            } else { alert("Ø±Ù‚Ù… Ø§Ù„Ø¬Ù„ÙˆØ³ ØºÙŠØ± Ù…ÙˆØ¬ÙˆØ¯!"); }
        } catch(e) { alert("Ø®Ø·Ø£ ÙÙŠ Ø§Ù„Ø§ØªØµØ§Ù„ Ø¨Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª"); }
    }

    function goBack() {
        document.getElementById('resultPage').style.display = 'none';
        document.getElementById('searchCard').style.display = 'block';
    }
</script>

</body>
</html>
